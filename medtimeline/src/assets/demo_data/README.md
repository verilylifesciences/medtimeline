# Demo Data

This folder contains mock data that you can use to run a demo and/or tests
against without making actual HTTP FHIR calls. The software uses the mock FHIR
server to read in these files and return results accordingly.

## Running these demos
To run against any of the test datasets in this folder, use the --configuration
flag like this:

```
ng serve --configuration dev_mock_<folder_name>
```

So for example, to run against the data in the DemoMockData folder, run:

```
ng serve --configuration dev_mock_DemoMockData
```

You can run this way because we've already set up these build configurations
in the angular.json file. If you want to run against a new dataset, or you want
to add a file to a dataset, follow the instructions below.

## Adding a new data set

1. Make a new folder for your data inside src/assets and put your files there.

1. (Optional) Run ``./docs/assets/tools/strip_info.py <your folder name>`` to
strip URLs, names, and HTTP headers from your files, if necessary.

1. In src/environments, create a new file. Use one of the other mock data
environments files as an example, and set the mockDataFolder and mockDataFiles
parameters according to your new folder and the files it contains. Also,
make sure that useMockServer is set to true.

1. In the angular.json file, in the projects.medtimeline.architect.build.configurations
section, add a new stanza for your configuration.

1. In the angular.json file, in the projects.medtimeline.architect.serve.configurations
section, add a new stanza referring to the build rule you just made.

## Adding a file to a data set
1. Add the json file to the folder.

1. (Optional) Run ``./assets/tools/strip_info.py <your folder name>`` to
strip URLs, names, and HTTP headers from your files, if necessary.

1. Open up the src/environments file corresponding to that folder's environment
configuration. Add your file name to the list of mockDataFiles.

## Removing a file from a data set.
1. Remove the json file from the folder.

1. Open up the src/environments file corresponding to that folder's environment
configuration. Remove your file name from the list of mockDataFiles.

## Dataset descriptions

All data in the demo datasets is generated (not real patient data,
not deidentified patient data.)

### DemoMockData
This file is a large combination of hand-generated data with little attention to
medical validity. It reflects things we were just trying out during the
development process.

## Test patients generated by clinicians

Each of the four datasets below have values that clinicians entered into
PowerChart then exported through FHIR.

Caveats:
1. Each patient has the same encounter set because we are awaiting encounter
data for all patients except the first one.
1. No medication data is available yet for these patients.
1. No microbiology data is available yet for these patients.

### test_bmedtimeA
This data simulates a 13 year old male general infectious disease patient.

### test_bmedtimeB
This data simulates a 24 year old male immunocompromised infectious disease
patient.

### test_bmedtimeC

This is a work-in-progress dataset. If you run against this now you won't see
any data points loaded in.

This data simulates a 13 year old male general infectious disease patient, but
all the values are lower than expected.

### test_bmedtimeD

This is a work-in-progress dataset. If you run against this now you won't see
any data points loaded in.

This data simulates a 7 year old male general infectious disease patient, but
all the values are higher than expected.
